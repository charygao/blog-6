---
layout:     post
title:      Xposed检测与防范
subtitle:   分析抖音对xposed的检测技术
date:       2019-05-08
author:     JovenHe
header-img: img/post-bg-hook.jpg
catalog: true
tags:
    - Xposed
    - 反编译
    

---

在Hook与反Hook的道路上参考大厂的技术是最为有效的，在我hook过的app也就微信和抖音居多了，正好昨天想分析一下抖音，所以Jadx打开抖音apk了，所以今天就来记录一下抖音的防Xposed实现。

> 严重声明
> 本文的意图只有一个就是通过分析app学习更多的逆向技术，如果有人利用本文知识和技术进行非法操作进行牟利，带来的任何法律责任都将由操作者本人承担，和本文作者无任何关系，最终还是希望大家能够秉着学习的心态阅读此文。

## 1.打开apk

电脑浏览器进入360应用市场，直接搜索抖音，下载apk文件，使用bin/jadx-gui打开apk，搜索文本一下，让子弹飞一会儿

## 2.搜索文本xposed

<img src="https://i.loli.net/2019/05/08/5cd24c56cd076.png" alt="搜索xposed关键字.png" title="搜索xposed关键字.png" width="80%"/>

可以看到搜索中主要有两个文件中有所涉及

#### 方法isInstallXposed

<img src="https://i.loli.net/2019/05/08/5cd24c56548b9.png" alt="自造异常.png" title="自造异常.png" />

可以看到这是很常见的自造异常检测方法。

通过自造异常，读取异常堆栈中是否包含xposed字符串来识别

